<script type="text/x-red" data-help-name="cmi in">
    <p>A node to query the Control and Monitoring Interface <b>C.M.I.</b> of the <b>Technische Alternative RT GmbH, Austria</b> at regular intervals and to provide the received data as the output. </p>
    <h3>Outputs</h3>
        <ol class="node-ports">
            <dl class="message-properties">
                <dt>payload <span class="property-type">number</span></dt>
                <dd>The value of the requested Item.</dd>

                <dt>unit <span class="property-type">string</span></dt>
                <dd>The unit of this item.</dd>

                <dt>topic <span class="property-type">string</span></dt>
                <dd>The topic as it is also used as the title of the node in the UI (see below).</dd>

                <dt>timestamp <span class="property-type">time</span></dt>
                <dd>This element contains the timestamp, the C.M.I. generates when reading the data (it is not the timestamp of the computerd clock which is running Node-Red).</dd>
                <dd>Because this Unix timestamp ist in seconds it is converted to a JavaScript timestmap which is in Milliseconds so it can be used correctly by other nodes (like e.g. the chart-node).</dd>
            </dl>
        </ol>
    <h3>Configuration</h3>
    <ol class="node-ports">
        <dl class="message-properties">
            <dt>C.M.I</dt>
            <dd>Every C.M.I. from which you want to read out data must be created once. If you haven't already done, click the pencil to do so. For all other measured values that you want to use, please select the already configured C.M.I.</dd>

            <dt>Source</dt>
            <dd>Select whether you want to use one of the 64 analog data or one of the 64 digital data from the data logging.</dd>
                
            <dt>Element No.</dt>
            <dd>Enter here the number of the requested Element from datalogging. Use the same number that is displayed for this value (before the colon) in the data logging of the X2 device.</dd>
            <dd><em>Unfortunately, it is not possible to automatically get the name from the C.M.I. to be adopted, as this is not available in the interface.</em></dd>
 
            <dt>Description</dt>
            <dd>You can (but do not have to) use the same name as the description you selected when you defined it in X2 device for data logging. This description is used both as a label for the node in the UI and provided as the <code>message.topic</code> at the node's output.</dd>
            
            <dt>UI shows...</dt>
            <dd>In the user interface (UI) of Node-Red, the current value and its unit are displayed below the node by default. In addition, the date and/or the time, when the value was last read from C.M.I., can be added.
   
            <dt>Skip</dt>
            <dd>For performance reasons, it can make sense to reduce the number of values ​​read out. With this setting it is possible not to output repetitive values ​​every time, but only after x repetitions of the same value, but immediately when the value is changed.</dd>
            <dd>This can be useful, for example, if you want to display the values ​​in a chart node. Because a very high number of values ​​in a chart node significantly reduces performance.</dd>
            <dd>If the value is an analog value, you can also set a tolerance in percent within which a value is treated as identical despite a (small) deviation and is therefore not output.</dd>

        </dl>
    </ol>
    </script>